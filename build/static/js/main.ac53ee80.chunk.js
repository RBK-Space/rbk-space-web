(window["webpackJsonprbk-space-web"]=window["webpackJsonprbk-space-web"]||[]).push([[0],{178:function(e,t,a){e.exports=a(361)},183:function(e,t,a){},184:function(e,t,a){},185:function(e,t,a){},260:function(e,t,a){},274:function(e,t,a){},277:function(e,t,a){},278:function(e,t,a){},360:function(e,t,a){},361:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(5),r=a.n(s),c=(a(183),a(16)),o=a(17),i=a(19),u=a(18),m=a(20),p=(a(184),a(27)),d=a(362),h=a(370),g=a(369),f=a(9),E=a(133),b=a(30),y=(a(185),d.a.Header),v=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e)))._handleLogoutClick=function(){window.open("/auth/logout","_self"),a.props.handleNotAuthenticated()},a.state={user:{},error:null,authenticated:!1,searchToggle:1,searchWord:"",searchResult:[]},a.toggleClick=a.toggleClick.bind(Object(p.a)(a)),a.handleChange=a.handleChange.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"toggleClick",value:function(e){var t=e.target.value;this.setState({searchToggle:t})}},{key:"componentDidMount",value:function(){var e=this;fetch("/auth/login/success",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}}).then((function(e){if(200===e.status)return e.json();throw new Error("failed to authenticate user")})).then((function(t){e.setState({authenticated:!0,user:t.user})})).catch((function(t){e.setState({authenticated:!1,error:"Failed to authenticate user"})}))}},{key:"handleChange",value:function(e){this.setState({searchWord:e.target.value})}},{key:"render",value:function(){var e=this.state.authenticated;return l.a.createElement(d.a,{className:"header-layout"},e?l.a.createElement(y,{className:"header"},l.a.createElement("div",{className:"logo"},l.a.createElement(b.b,{to:"/home"},l.a.createElement("img",{src:"https://i.ibb.co/19WCkMF/output-onlinepngtools.png",alt:""}))),l.a.createElement("div",{className:"search-wrapper"},l.a.createElement(h.a,{theme:"dark",mode:"horizontal",style:{lineHeight:"64px"}},l.a.createElement(h.a.Item,{key:"1",className:"menu-item"},l.a.createElement("div",{className:"search-bar"},l.a.createElement("input",{type:"text",name:"search-bar",onChange:this.handleChange,value:this.state.searchWord,className:"search-input"}),1===this.state.searchToggle?l.a.createElement(b.b,{to:"/search/users/?query=".concat(this.state.searchWord)},l.a.createElement(E.a,{type:"primary",className:"ant-search-btn"},"Search")):l.a.createElement(b.b,{to:"/search/posts/?query=".concat(this.state.searchWord)},l.a.createElement(E.a,{type:"primary",className:"ant-search-btn"},"Search"))),l.a.createElement("div",{className:"radio-group-wrapper"},l.a.createElement(g.a.Group,{className:"radio-group",name:"radiogroup",defaultValue:1,style:{lineHeight:"64px"}},l.a.createElement(g.a,{className:"radio-button",value:1,onChange:this.toggleClick},"People"),l.a.createElement(g.a,{className:"radio-button",value:2,onChange:this.toggleClick},"Posts")))))),l.a.createElement("div",{className:"user-img"},l.a.createElement(b.b,{to:"/profile/".concat(this.state.user[0].userId)},l.a.createElement("img",{src:this.state.user[0].image,alt:""})),l.a.createElement(E.a,{id:"logout",onClick:this._handleLogoutClick.bind(this)},l.a.createElement(f.a,{type:"export"})))):null)}}]),t}(l.a.Component),k=a(367),j=a(364),N=a(371),w=a(69),C=a(14),I=a.n(C),O="GET_ALL_POSTS",S="ADD_POST",P=function(){return function(e){I.a.get("/posts").then((function(t){e({type:O,payload:t.data})})).catch((function(e){return Promise.reject(e)}))}},D=a(166),T=a.n(D),A=(a(260),k.a.TextArea),R=j.a.TabPane,x=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={user:{},error:null,authenticated:!1,text:"",pictures:[],key:0},a.onDrop=a.onDrop.bind(Object(p.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(p.a)(a)),a.handlePostTextClick=a.handlePostTextClick.bind(Object(p.a)(a)),a.handlePostImageClick=a.handlePostImageClick.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/auth/login/success",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}}).then((function(e){if(200===e.status)return e.json();throw new Error("failed to authenticate user")})).then((function(t){console.log(t.user),e.setState({authenticated:!0,user:t.user})})).catch((function(t){e.setState({authenticated:!1,error:"Failed to authenticate user"})}))}},{key:"handlePostTextClick",value:function(){(0,this.props.addPost)({postType:"0",postBody:this.state.text,userId:this.state.user[0].userId}),this.setState({text:""}),(0,this.props.getAllPosts)()}},{key:"onDrop",value:function(e,t){this.setState({pictures:this.state.pictures.concat(e)})}},{key:"handlePostImageClick",value:function(){var e=this,t=this.state.pictures.map((function(t){var a=new FormData;return a.append("image",t,t.name),a.append("user",e.state.user[0].userId),e.setState({pictures:[],key:Math.random()}),I.a.post("/uploadImage",a)}));I.a.all(t).then((function(e){})).catch((function(e){return console.log(e)}))}},{key:"handleInputChange",value:function(e){var t=e.target.value;this.setState({text:t})}},{key:"callback",value:function(e){console.log(e,typeof e)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"tabs-wrapper"},l.a.createElement(j.a,{className:"tabs",defaultActiveKey:"1",onChange:this.callback},l.a.createElement(R,{className:"tab",tab:"Add Post",key:"1"},l.a.createElement(A,{value:this.state.text,onChange:this.handleInputChange}),l.a.createElement(E.a,{type:"primary",className:"post-btn",onClick:this.handlePostTextClick.bind(this)},"Add Post")),l.a.createElement(R,{className:"tab",tab:"Add Image",key:"2"},l.a.createElement(T.a,{withIcon:!0,buttonText:"Choose images",onChange:this.onDrop,imgExtension:[".jpg",".png",".gif"],maxFileSize:5242880,withPreview:!0,key:this.state.key}),this.state.pictures&&this.state.pictures.length>0?l.a.createElement(E.a,{type:"primary",className:"post-btn",onClick:function(){e.handlePostImageClick(),N.a.success("Uploaded Successfuly!")}},"Upload"):null)))}}]),t}(n.Component),F={addPost:function(e){return function(t){I.a.post("/user/post/add",e).then((function(e){t({type:S,payload:e.data[0]}),t(P())}),(function(e){t({type:S,error:e}),console.log(e)})).catch((function(e){console.log(e)}))}},getAllPosts:P},B=Object(w.b)((function(e){return{posts:e.allPostsReducer.posts}}),F)(x),L=a(169),M=a.n(L),U=a(102),_=a.n(U),q=(a(274),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).componentDidMount=function(){return M.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:(0,a.props.getAllPosts)();case 2:case"end":return e.stop()}}))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"myFunction",value:function(e){var t=document.getElementById("dots"+e),a=document.getElementById("more"+e),n=document.getElementById("myBtn"+e);"none"===t.style.display?(t.style.display="inline",n.innerHTML="Read more",a.style.display="none"):(t.style.display="none",n.innerHTML="Read less",a.style.display="inline")}},{key:"render",value:function(){var e=this,t=this.props.posts;return l.a.createElement(l.a.Fragment,null,t&&t.length>0?l.a.createElement("div",null,l.a.createElement("div",{className:"post-wrapper"},t.map((function(t,a){return l.a.createElement("div",{className:"post",key:a},l.a.createElement("div",{className:"user-img"},l.a.createElement("img",{src:t.imgUrl,alt:""})),l.a.createElement("div",{className:"post-data"},l.a.createElement("div",{className:"user-time"},l.a.createElement(b.b,{to:"/profile/".concat(t.userId)},l.a.createElement("span",{className:"post-writer"},t.fullName)),l.a.createElement("span",{className:"post-date"},l.a.createElement(_.a,{date:"".concat(t.createdAt.substring(0,19),"-0200")}))),1===t.postType?l.a.createElement("div",{className:"post-body"},l.a.createElement("img",{src:t.postBody,alt:"",className:"post-img"})):l.a.createElement("div",{className:"post-body"},l.a.createElement("p",null,t.postBody.split(" ").splice(0,30).join(" "),l.a.createElement("span",{id:"dots".concat(t.postId)}),l.a.createElement("span",{id:"more".concat(t.postId),className:"hide"},t.postBody.split(" ").splice(30).join(" "))),t.postBody.split(" ").length>30?l.a.createElement(E.a,{onClick:function(t){e.myFunction(t.target.id.substring(5))},id:"myBtn".concat(t.postId)},"Read more"):null)))})))):l.a.createElement("div",null,"Nothing to show"))}}]),t}(n.Component)),H={getAllPosts:P},G=Object(w.b)((function(e){return{posts:e.allPostsReducer.posts}}),H)(q),W=a(368),V=a(372),K=a(81),z=a(131),J=a(48),$=a(71);a(277);K.b.add(z.b,J.a,J.d,J.c,J.b);var Q=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).getData=function(e){var t=e.match.params.id;I()("/user/".concat(t)).then((function(e){a.setState({user:e.data[0]})}))},a.state={user:{},error:null,authenticated:!1,loggedInUser:{}},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("auth/login/success",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}}).then((function(e){if(200===e.status)return e.json();throw new Error("failed to authenticate user")})).then((function(t){e.setState({authenticated:!0,loggedInUser:t.user})})).catch((function(t){e.setState({authenticated:!1,error:"Failed to authenticate user"})})),this.getData(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.getData(e)}},{key:"render",value:function(){var e=W.a.Panel,t={background:"#f7f7f7",borderRadius:4,marginBottom:12,border:0,overflow:"hidden"};return l.a.createElement("div",{className:"user-profile"},this.state.user.hasOwnProperty("userId")?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"general-wrapper"},l.a.createElement("h1",{id:"user-profile-heading"},"User Profile"),l.a.createElement("div",{className:"general"},l.a.createElement("div",{className:"editt"},l.a.createElement("span",{className:"section-id"},"General"),this.state.loggedInUser[0]&&this.state.loggedInUser[0].userId===this.state.user.userId?l.a.createElement(b.b,{to:"/editProfile/".concat(this.state.user.userId)},l.a.createElement($.a,{icon:z.a,color:"##1890ff",size:"lg"}),l.a.createElement("span",{className:"edit-profile-text"},"Edit Profile")):null),l.a.createElement("div",{className:"general-border"},l.a.createElement("div",{className:"img-social-wrapper"},l.a.createElement("div",{className:"user-img"},l.a.createElement("img",{src:this.state.user.image,alt:""})),l.a.createElement("ul",{className:"social-links"},this.state.user.gh?l.a.createElement("li",{className:"social-item"},l.a.createElement("a",{href:this.state.user.gh,target:"_blank",rel:"noopener noreferrer"},l.a.createElement($.a,{icon:J.b,color:"#211F1F"}))):null,this.state.user.fb?l.a.createElement("li",{className:"social-item"},l.a.createElement("a",{href:this.state.user.fb,target:"_blank",rel:"noopener noreferrer"},l.a.createElement($.a,{icon:J.a,color:"#3b5998"}))):null,this.state.user.li?l.a.createElement("li",{className:"social-item"},l.a.createElement("a",{href:this.state.user.li,target:"_blank",rel:"noopener noreferrer"},l.a.createElement($.a,{icon:J.c,color:"#0e76a8"}))):null,this.state.user.tw?l.a.createElement("li",{className:"social-item"},l.a.createElement("a",{href:this.state.user.tw,target:"_blank",rel:"noopener noreferrer"},l.a.createElement($.a,{icon:J.d,color:"#1da1f2"}))):null)),l.a.createElement("div",{className:"general-info"},l.a.createElement("p",null,"Hello! My name is ",this.state.user.fullName," ",this.state.user.cohort?"& I'm\n                      from ".concat(this.state.user.cohort):null),l.a.createElement("p",null," ",this.state.user.empStat?"Employment status: ".concat(this.state.user.empStat):null," "))))),l.a.createElement("div",{className:"bio-wrapper"},l.a.createElement("span",{className:"section-id"},"Bio"),l.a.createElement("div",{className:"bio-info"},l.a.createElement("p",{className:"bio-content"},this.state.user.bio),l.a.createElement("div",{className:"skills"},l.a.createElement("span",{className:"skills-id"},"Skills"),l.a.createElement("div",{className:"skills-tags"},this.state.user.skills.map((function(e,t){return l.a.createElement(V.a,{key:t},e.skillName)})))))),l.a.createElement("div",{className:"portfolio-wrapper"},l.a.createElement("span",{className:"section-id"},"Portfolio"),l.a.createElement("div",{className:"portfolio-info"},l.a.createElement(W.a,{bordered:!1,defaultActiveKey:["1"],expandIcon:function(e){var t=e.isActive;return l.a.createElement(f.a,{type:"caret-right",rotate:t?90:0})}},this.state.user.projects.map((function(a,n){return l.a.createElement(e,{header:a.projectTitle,key:n+1,style:t,className:"project-item"},l.a.createElement("div",{className:"panel-content-wrapper"},l.a.createElement("p",{className:"project-decription"},a.projectDesc),l.a.createElement("span",null,l.a.createElement("a",{href:"http://".concat(a.projectLink),target:"_blank",rel:"noopener noreferrer"},"Project Link"))))})))))):l.a.createElement("div",null,l.a.createElement("img",{src:"https://flevix.com/wp-content/uploads/2019/07/Ring-Preloader.gif",alt:""})))}}]),t}(n.Component),X=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).getData=function(){var e=new URLSearchParams(window.location.search).get("query"),t=Object(p.a)(a);I()("/users/?query=".concat(e)).then((function(e){t.setState({peopleSearchResult:e.data})}))},a.state={peopleSearchResult:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getData(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.getData(e)}},{key:"render",value:function(){return l.a.createElement("div",null,0===this.state.peopleSearchResult.length?l.a.createElement("div",null,l.a.createElement("h1",null,l.a.createElement("img",{src:"https://cdn.dribbble.com/users/1512427/screenshots/6201637/02.png",alt:""}))):l.a.createElement("div",{className:"general-wrapper"},l.a.createElement("h1",{id:"user-profile-heading"},"Users Result"),this.state.peopleSearchResult.map((function(e,t){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"general",key:t},l.a.createElement("div",{className:"general-border"},l.a.createElement("div",{className:"img-social-wrapper"},l.a.createElement("div",{className:"user-img"},l.a.createElement("img",{src:e.image,alt:""}))),l.a.createElement("div",{className:"general-info"},l.a.createElement("p",null,"Hello! My name is ",e.fullName," ",e.cohort?"& I'm\n                      from ".concat(e.cohort):null),l.a.createElement("p",null," ",e.empStat?"Employment status: ".concat(e.empStat):null," "),l.a.createElement(b.b,{to:"/profile/".concat(e.userId)},l.a.createElement("span",{className:"search-profile-link"},"Profile Link"))))))}))))}}]),t}(n.Component),Y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).getData=function(){var e=new URLSearchParams(window.location.search).get("query"),t=Object(p.a)(a);I()("/posts/?query=".concat(e)).then((function(e){t.setState({postsSearchResult:e.data})}))},a.state={postsSearchResult:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getData(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.getData(e)}},{key:"myFunction",value:function(e){var t=document.getElementById("dots"+e),a=document.getElementById("more"+e),n=document.getElementById("myBtn"+e);"none"===t.style.display?(t.style.display="inline",n.innerHTML="Read more",a.style.display="none"):(t.style.display="none",n.innerHTML="Read less",a.style.display="inline")}},{key:"render",value:function(){var e=this;return console.log(this.state.postsSearchResult),l.a.createElement("div",null,0===this.state.postsSearchResult.length?l.a.createElement("div",null,l.a.createElement("h1",null," ",l.a.createElement("img",{src:"https://cdn.dribbble.com/users/1512427/screenshots/6201637/02.png",alt:""}))):l.a.createElement("div",{className:"post-wrapper"},l.a.createElement("h1",{id:"user-profile-heading"},"Posts Result"),this.state.postsSearchResult.map((function(t,a){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"post",key:a},l.a.createElement("div",{className:"user-img"},l.a.createElement("img",{src:t.imgUrl,alt:""})),l.a.createElement("div",{className:"post-data"},l.a.createElement("div",{className:"user-time"},l.a.createElement(b.b,{to:"/profile/".concat(t.userId)},l.a.createElement("span",{className:"post-writer"},t.fullName)),l.a.createElement("span",{className:"post-date"},l.a.createElement(_.a,{date:"".concat(t.createdAt.substring(0,19),"-0200")}))),l.a.createElement("div",{className:"post-body"},l.a.createElement("p",null,t.postBody.split(" ").splice(0,30).join(" "),l.a.createElement("span",{id:"dots".concat(t.postId)},"..."),l.a.createElement("span",{id:"more".concat(t.postId),className:"hide"},t.postBody.split(" ").splice(30).join(" "))),t.postBody.split(" ").length>30?l.a.createElement(E.a,{onClick:function(t){e.myFunction(t.target.id.substring(5))},id:"myBtn".concat(t.postId)},"Read more"):null))))}))))}}]),t}(n.Component),Z=(a(278),a(279),a(365)),ee=a(104),te=a(366),ae=a(175),ne=a(363),le=te.a.Option,se=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).getData=function(e){console.log(e);var t=e.id;I()("/cohorts").then((function(e){console.log(e.data[0]),a.setState({cohorts:e.data[0]})})),I()("/user/".concat(t)).then((function(e){console.log(e.data[0]),a.setState({user:e.data[0]})})),I()("/skills").then((function(e){console.log(e.data[0]),a.setState({skills:e.data[0]})})),I()("/empStatus").then((function(e){console.log(e.data[0]),a.setState({empStatus:e.data[0]})}))},a.handleSubmit=function(e){e.preventDefault();var t=Object(p.a)(a);a.props.form.validateFieldsAndScroll((function(e,n){e||(a.openMessage(),n.imgUrl=a.state.user.image,n.userId=a.state.user.userId,console.log("Received values of form: ",n),I.a.post("/user/edit/basic",n).then((function(e){console.log(t.state.skillId[t.state.skillId.length-1]),I.a.post("/user/edit/skill",{userId:t.state.user.userId,skillId:t.state.skillId[t.state.skillId.length-1]}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),console.log(e)})).catch((function(e){console.log(e)})))})),console.log(a.state.skillId)},a.state={confirmDirty:!1,autoCompleteResult:[],user:null,cohorts:null,cohortNo:null,skills:null,empStatus:null,skillId:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getData(this.props)}},{key:"handleCohortChange",value:function(e){console.log("selected ".concat(e))}},{key:"handleSkillsChange",value:function(e){this.setState({skillId:[].concat(Object(ee.a)(this.state.skillId),[e])}),console.log(this.state.skillId)}},{key:"handleEmpStatusChange",value:function(e){console.log("selected ".concat(e))}},{key:"openMessage",value:function(){N.a.loading({content:"Updating...",key:"updatable"}),setTimeout((function(){N.a.success({content:"Updated!",key:"updatable",duration:3})}),1500)}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=k.a.TextArea;return l.a.createElement(l.a.Fragment,null,this.state.user?l.a.createElement(Z.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleSubmit}),l.a.createElement(Z.a.Item,{label:l.a.createElement("span",null,"Full Name\xa0",l.a.createElement(ae.a,{title:"This will be used in the website"},l.a.createElement(f.a,{type:"question-circle-o"})))},e("fullName",{initialValue:this.state.user.fullName,rules:[{required:!0,message:"Please input your Full Name!",whitespace:!0}]})(l.a.createElement(k.a,null))),l.a.createElement(Z.a.Item,{label:l.a.createElement("span",null,"Cohort\xa0")},e("cohortId",{initialValue:this.state.user.cohort,rules:[{required:!0,message:"Please input your cohort number!"}]})(l.a.createElement(te.a,{onChange:this.handleCohortChange.bind(this),style:{width:180}},this.state.cohorts?this.state.cohorts.map((function(e,t){return l.a.createElement(le,{value:e.cohortId,key:t},e.cohortName)})):null))),l.a.createElement(Z.a.Item,{label:l.a.createElement("span",null,"Image\xa0")},e("imgUrl",{rules:[{message:"Please input your Full Name!",whitespace:!0}]})(l.a.createElement(l.a.Fragment,null,l.a.createElement(ne.a,{src:this.state.user.image,shape:"square",size:64}),l.a.createElement(E.a,null,"Upload Image")))),l.a.createElement(Z.a.Item,{label:l.a.createElement("span",null,"Bio\xa0")},e("bio",{initialValue:this.state.user.bio,rules:[{required:!0,message:"Please input your Bio!",whitespace:!0}]})(l.a.createElement(t,{placeholder:"Write your Bio here!"}))),l.a.createElement(Z.a.Item,{label:"Skills"},e("skills",{rules:[{message:"Please input your skills!"}]})(l.a.createElement(te.a,{mode:"tags",style:{width:"100%"},placeholder:"select your skills",onChange:this.handleSkillsChange.bind(this)},this.state.skills?this.state.skills.map((function(e,t){return l.a.createElement(le,{value:e.skillId+"",key:t},e.skillName)})):null))),l.a.createElement(Z.a.Item,{label:l.a.createElement("span",null,"Employment Status\xa0")},e("empStatus",{initialValue:this.state.user.empStat,rules:[{required:!0,message:"Please input your employment status !"}]})(l.a.createElement(te.a,{onChange:this.handleEmpStatusChange,style:{width:200}},this.state.empStatus?this.state.empStatus.map((function(e,t){return l.a.createElement(le,{value:e.empId,key:t},e.empStatus)})):null))),l.a.createElement(Z.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},l.a.createElement(E.a,{type:"primary",htmlType:"submit"},"Update"))):null)}}]),t}(n.Component),re=Z.a.create({name:"basicInfo"})(se),ce=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).getData=function(e){console.log(e);var t=e.id;I()("/user/".concat(t)).then((function(e){console.log(e.data[0]),a.setState({user:e.data[0]})}))},a.handleSubmitLinks=function(e){e.preventDefault();var t=Object(p.a)(a);a.props.form.validateFieldsAndScroll((function(e,n){e||(console.log(n),a.openMessage(),I.a.post("/user/edit/contact",{userId:t.state.user.userId,facebook:n.facebook,github:n.github,twitter:n.twitter,linkedin:n.linkedin}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})))}))},a.state={confirmDirty:!1,autoCompleteResult:[],user:null,cohorts:null,cohortNo:null,skills:null,empStatus:null,skillId:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getData(this.props)}},{key:"openMessage",value:function(){N.a.loading({content:"Updating...",key:"updatable"}),setTimeout((function(){N.a.success({content:"Updated!",key:"updatable",duration:3})}),1500)}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return l.a.createElement(l.a.Fragment,null,this.state.user?l.a.createElement(Z.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleSubmitLinks}),l.a.createElement(Z.a.Item,{label:l.a.createElement("span",null,"GitHub account\xa0")},e("github",{initialValue:this.state.user.gh,rules:[{required:!0,message:"Please input your GitHub!",whitespace:!0}]})(l.a.createElement(k.a,null))),l.a.createElement(Z.a.Item,{label:l.a.createElement("span",null,"Facebook\xa0")},e("facebook",{initialValue:this.state.user.fb,rules:[{message:"Please input your Facebook!",whitespace:!0}]})(l.a.createElement(k.a,null))),l.a.createElement(Z.a.Item,{label:l.a.createElement("span",null,"LinkedIn\xa0")},e("linkedin",{initialValue:this.state.user.li,rules:[{message:"Please input your LinkedIn!",whitespace:!0}]})(l.a.createElement(k.a,null))),l.a.createElement(Z.a.Item,{label:l.a.createElement("span",null,"Twitter\xa0")},e("twitter",{initialValue:this.state.user.tw,rules:[{message:"Please input your Twitter!",whitespace:!0}]})(l.a.createElement(k.a,null))),l.a.createElement(Z.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},l.a.createElement(E.a,{type:"primary",htmlType:"submit"},"Update"))):null)}}]),t}(n.Component),oe=Z.a.create({name:"basicInfo"})(ce),ie=k.a.TextArea,ue=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).getData=function(e){console.log(e);var t=e.id;I()("/user/".concat(t)).then((function(e){console.log(e.data[0]),a.setState({user:e.data[0]})}))},a.handleSubmitProjects=function(e){e.preventDefault();var t=Object(p.a)(a);a.props.form.validateFieldsAndScroll((function(e,n){e||(a.openMessage(),console.log(n),I.a.post("/user/edit/portfolio",{userId:t.state.user.userId,title:n.projectTitle,description:n.projectDesc,link:n.projectLink}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})))}))},a.state={confirmDirty:!1,autoCompleteResult:[],user:null,cohorts:null,cohortNo:null,skills:null,empStatus:null,skillId:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getData(this.props)}},{key:"openMessage",value:function(){N.a.loading({content:"Adding project...",key:"updatable"}),setTimeout((function(){N.a.success({content:"project added!",key:"updatable",duration:3})}),1500)}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return l.a.createElement(l.a.Fragment,null,this.state.user?l.a.createElement(Z.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleSubmitProjects}),l.a.createElement(Z.a.Item,{label:l.a.createElement("span",null,"projectTitle\xa0")},t("projectTitle",{rules:[{required:!0,message:"Please input your projectTitle!",whitespace:!0}]})(l.a.createElement(k.a,null))),l.a.createElement(Z.a.Item,{label:l.a.createElement("span",null,"projectDesc\xa0")},t("projectDesc",{rules:[{required:!0,message:"Please input your projectDesc!",whitespace:!0}]})(l.a.createElement(ie,{rows:5}))),l.a.createElement(Z.a.Item,{label:l.a.createElement("span",null,"projectLink\xa0")},t("projectLink",{rules:[{required:!0,message:"Please input your projectLink!",whitespace:!0}]})(l.a.createElement(k.a,null))),l.a.createElement(Z.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},l.a.createElement(E.a,{type:"primary",htmlType:"submit"},"Add"),l.a.createElement(E.a,{onClick:function(t){e.props.form.resetFields()},className:"clear-btn"},"Clear"))):null)}}]),t}(n.Component),me=Z.a.create({name:"basicInfo"})(ue),pe=j.a.TabPane,de=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).getData=function(e){var t=e.match.params.id;console.log(t),a.setState({id:t}),I()("/user/".concat(t)).then((function(e){console.log(e.data[0]),a.setState({user:e.data[0]})}))},a.state={confirmDirty:!1,autoCompleteResult:[],user:null,cohorts:null,cohortNo:null,skills:null,empStatus:null,skillId:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getData(this.props)}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,this.state.user?l.a.createElement("div",null,l.a.createElement("div",{className:"edit-profile"},l.a.createElement("h1",{id:"edit-profile-heading"},"Edit Profile"),l.a.createElement("div",{className:"edit-tabs"},l.a.createElement(j.a,{defaultActiveKey:"1",onChange:this.callback},l.a.createElement(pe,{tab:"Basic Info",key:"1"},l.a.createElement(re,{id:this.state.id})),l.a.createElement(pe,{tab:"Social Links",key:"2"},l.a.createElement(oe,{id:this.state.id})),l.a.createElement(pe,{tab:"Portfolio",key:"3"},l.a.createElement(me,{id:this.state.id})))))):null)}}]),t}(l.a.Component),he=Z.a.create({name:"register"})(de),ge=a(61),fe=a(134),Ee={posts:[]};var be=Object(ge.c)({allPostsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(fe.a)({},e,{posts:t.payload});case S:return t.error?[]:Object(fe.a)({},e,{posts:[].concat(Object(ee.a)(e.posts),[t.payload])});default:return e}}}),ye=a(173),ve=a(174),ke=(a(360),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l))))._handleSignInClick=function(){window.open("/auth/github","_self")},a._handleLogoutClick=function(){window.open("/auth/logout","_self"),a.props.handleNotAuthenticated()},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.authenticated;return l.a.createElement("div",{className:"loginPage"},l.a.createElement("div",{className:"opacity"},l.a.createElement("div",{className:"container"},l.a.createElement("h1",null,"Welcome to RBK-Space"),l.a.createElement("p",{className:"description"},"- Here you can share your skills, RBK memories and post/find jobs with RBK family -"),l.a.createElement("div",{className:"instructions-wrapper"},l.a.createElement("span",{id:"first-time"},"First Time Login:"),l.a.createElement("ul",{className:"instructions"},l.a.createElement("li",null,"Please make sure that your GitHub account has your Name and your Email - you can do this from your GitHub profile => Edit profile."),l.a.createElement("li",null,"Please make sure that your RBK organization membership on GitHub is public.",l.a.createElement("a",{href:"https://github.com/orgs/rbk-org/people",target:"_blank",rel:"noopener noreferrer"}," ","Click here"," ")))),l.a.createElement("ul",{className:"menu"},e?l.a.createElement("li",{onClick:this._handleLogoutClick},"Logout"):l.a.createElement("li",null,l.a.createElement(ve.GithubLoginButton,{className:"github-btn",onClick:this._handleSignInClick}))))))}}]),t}(n.Component)),je=(n.Component,a(53)),Ne=Object(ge.d)(be,Object(ge.a)(ye.a)),we=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={user:{},error:null,authenticated:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/auth/login/success",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}}).then((function(e){if(200===e.status)return e.json();throw new Error("failed to authenticate user")})).then((function(t){e.setState({authenticated:!0,user:t.user})})).catch((function(t){e.setState({authenticated:!1,error:"Failed to authenticate user"})}))}},{key:"render",value:function(){this.state.authenticated;return l.a.createElement(w.a,{store:Ne},l.a.createElement(b.a,null,l.a.createElement(v,null),l.a.createElement("div",{className:"container"},l.a.createElement(je.c,{className:"App"},l.a.createElement(je.a,{path:"/home"},l.a.createElement(B,null),l.a.createElement(G,null)),l.a.createElement(je.a,{exact:!0,path:"/profile/:id",component:Q}),l.a.createElement(je.a,{exact:!0,path:"/search/users/",component:X}),l.a.createElement(je.a,{exact:!0,path:"/search/posts/",component:Y}),l.a.createElement(je.a,{path:"/editProfile/:id",component:he})))))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(we,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[178,1,2]]]);
//# sourceMappingURL=main.ac53ee80.chunk.js.map